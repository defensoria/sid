<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:gc="http://xmlns.jcp.org/jsf/composite/gc">

    <ui:composition template="../template/template.xhtml">

        <ui:define name="content">
            <h:form id="idForm" class="form-horizontal">
                <h:messages />
                <gc:confirmSubmit bean="#{registroController.registarExpedienteGestion()}" mensaje="Esta seguro de registrar la gestión?" />
                <table style="width: 100%">
                    <tr>
                        <td colspan="2">
                            <div class="panel panel-featured-top-primary">
                                <div class="panel-body" >
                                    <table style="width: 100%">
                                        <tr>
                                            <td colspan="2">
                                                <span style="font-size: 2em" class="text-resalt-primary">Expediente: #{registroController.expediente.numero}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <h:outputText rendered="#{registroController.etapaEstado.ultimoEstado != null}" value="Estado: #{registroController.etapaEstado.ultimoEstado}" style="font-size: 2em" class="text-resalt-primary"/>
                                            </td>
                                        </tr>    
                                        <tr>
                                            <td colspan="2">
                                                <br/>
                                                <h:panelGroup rendered="#{registroController.expediente.tipoClasificion == '01'}">
                                                    <table style="width: 90%">
                                                        <tr>
                                                            <td style="width: 10%">
                                                                <span style="font-size: 2em" class="text-resalt-primary">Etapa:</span>
                                                            </td>
                                                            <td>
                                                                <div class="btn-group btn-group-justified" role="group" style="width: 80%">
                                                                    <div class="btn-group" role="group">
                                                                        <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(1)}" class="btn #{registroController.etapaEstado.verEtapa == 1? 'btn-warning' : 'btn-default'}">
                                                                            <c:choose>
                                                                                <c:when test="${registroController.etapaEstado.verEtapa == 1}">
                                                                                    <span class="glyphicon glyphicon-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Calificación
                                                                                </c:when>
                                                                                <c:otherwise>
                                                                                    Calificación
                                                                                </c:otherwise>
                                                                            </c:choose>
                                                                        </a>
                                                                    </div>
                                                                    <div class="btn-group" role="group">
                                                                        <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(2)}" type="button" class="btn #{registroController.etapaEstado.verEtapa == 2? 'btn-warning' : 'btn-default'}">
                                                                            <c:choose>
                                                                                <c:when test="${registroController.etapaEstado.verEtapa == 2}">
                                                                                    <span class="glyphicon glyphicon-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Investigación
                                                                                </c:when>
                                                                                <c:otherwise>
                                                                                    Investigación
                                                                                </c:otherwise>
                                                                            </c:choose>
                                                                        </a>
                                                                    </div>
                                                                    <div class="btn-group" role="group">
                                                                        <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(3)}" type="button" class="btn #{registroController.etapaEstado.verEtapa == 3? 'btn-warning' : 'btn-default'}">
                                                                            <c:choose>
                                                                                <c:when test="${registroController.etapaEstado.verEtapa == 3}">
                                                                                    <span class="glyphicon glyphicon-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Persuasión
                                                                                </c:when>
                                                                                <c:otherwise>
                                                                                    Persuasión
                                                                                </c:otherwise>
                                                                            </c:choose>
                                                                        </a>
                                                                    </div>
                                                                    <div class="btn-group" role="group">
                                                                        <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(1)}" type="button" class="btn #{registroController.etapaEstado.verEtapa == 4? 'btn-warning' : 'btn-default'}">
                                                                            <c:choose>
                                                                                <c:when test="${registroController.etapaEstado.verEtapa == 4}">
                                                                                    <span class="glyphicon glyphicon-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Seguimiento
                                                                                </c:when>
                                                                                <c:otherwise>
                                                                                    Seguimiento
                                                                                </c:otherwise>
                                                                            </c:choose>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <table style="width: 80%">
                                                                    <tr>
                                                                        <td style="width: 25%">
                                                                            <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 1}" style="color: #878787" value="Quedan 4 días para culminar la etapa de Calificación"/>
                                                                        </td>
                                                                        <td style="width: 25%">
                                                                            <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 2}" style="color: #878787" value="Quedan 80 días para culminar la etapa de Investigación"/>
                                                                        </td>
                                                                        <td style="width: 25%">
                                                                            <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 3}" style="color: #878787" value="Quedan 40 días para culminar la etapa de Persuasión"/>
                                                                        </td>
                                                                        <td style="width: 25%">
                                                                            <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 4}" style="color: #878787" value="Quedan 60 días para culminar la etapa de Seguimiento"/>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </h:panelGroup>

                                                <h:panelGroup rendered="#{registroController.expediente.tipoClasificion == '03'}">
                                                    <table style="width: 90%">
                                                        <tr>
                                                            <td style="width: 10%">
                                                                <span style="font-size: 2em" class="text-resalt-primary">Etapa:</span>
                                                            </td>
                                                            <td>
                                                                <div class="btn-group btn-group-justified" role="group" style="width: 80%">
                                                                    <div class="btn-group" role="group">
                                                                        <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(1)}" class="btn #{registroController.etapaEstado.verEtapa == 5? 'btn-warning' : 'btn-default'}">
                                                                            <c:choose>
                                                                                <c:when test="${registroController.etapaEstado.verEtapa == 1}">
                                                                                    <span class="glyphicon glyphicon-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Calificación
                                                                                </c:when>
                                                                                <c:otherwise>
                                                                                    Calificación
                                                                                </c:otherwise>
                                                                            </c:choose>
                                                                        </a>
                                                                    </div>
                                                                    <div class="btn-group" role="group">
                                                                        <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(2)}" type="button" class="btn #{registroController.etapaEstado.verEtapa == 6? 'btn-warning' : 'btn-default'}">
                                                                            <c:choose>
                                                                                <c:when test="${registroController.etapaEstado.verEtapa == 2}">
                                                                                    <span class="glyphicon glyphicon-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Gestión
                                                                                </c:when>
                                                                                <c:otherwise>
                                                                                    Gestión
                                                                                </c:otherwise>
                                                                            </c:choose>
                                                                        </a>
                                                                    </div>
                                                                    <div class="btn-group" role="group">
                                                                        <a style="cursor: auto" onclick="return false" jsf:action="#{registroController.cargarExpedienteEtapa(3)}" type="button" class="btn #{registroController.etapaEstado.verEtapa == 7? 'btn-warning' : 'btn-default'}">
                                                                            <c:choose>
                                                                                <c:when test="${registroController.etapaEstado.verEtapa == 3}">
                                                                                    <span class="glyphicon glyphicon-paperclip" style="font-size: large; color: black"/>&#160;&#160;&#160;&#160;Persuasión
                                                                                </c:when>
                                                                                <c:otherwise>
                                                                                    Persuasión
                                                                                </c:otherwise>
                                                                            </c:choose>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <table style="width: 80%">
                                                                    <tr>
                                                                        <td style="width: 33%">
                                                                            <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 5}" style="color: #878787" value="Quedan 4 días para culminar la etapa de Calificación"/>
                                                                        </td>
                                                                        <td style="width: 33%">
                                                                            <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 6}" style="color: #878787" value="Quedan 30 días para culminar la etapa de Gestión"/>
                                                                        </td>
                                                                        <td style="width: 33%">
                                                                            <h:outputText rendered="#{registroController.etapaEstado.verEtapa == 7}" style="color: #878787" value="Quedan 30 días para culminar la etapa de Persuasión"/>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </h:panelGroup>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <table style="width: 90%">
                                                    <tr>
                                                        <td style="width: 25%; ">
                                                            <h:outputText rendered="#{registroController.etapaEstado.verEtapa != 0 and registroController.etapaEstado.verEtapa != null}" value="Asignar estado:" class="text-primary" style="font-size: 1.5em"/>
                                                        </td>
                                                        <td>
                                                            <div class="panel-body">
                                                                <h:panelGroup id="idPanelEstado">
                                                                    <table style="width: 90%">
                                                                        <tr>
                                                                            <td style="padding-right: 10px; width: 70%;">
                                                                                <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 1}"  value="#{registroController.expediente.estadoCalificacion}">
                                                                                    <f:selectItems value="#{registroController.listaEstadoCalificacionQueja}"  />
                                                                                    <f:ajax listener="#{registroController.pintar()}" render="idPanelEstado" execute="@form"/>
                                                                                </h:selectOneRadio>

                                                                                <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 2}"  value="#{registroController.expediente.estadoInvestigacion}">
                                                                                    <f:selectItems value="#{registroController.listaEstadoInvestigacionQueja}"  />
                                                                                    <f:ajax listener="#{registroController.pintar()}" render="idPanelEstado" execute="@form"/>
                                                                                </h:selectOneRadio>

                                                                                <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 3}"  value="#{registroController.expediente.estadoPersuacion}">
                                                                                    <f:selectItems value="#{registroController.listaEstadoPersuacionQueja}"  />
                                                                                    <f:ajax listener="#{registroController.pintar()}" render="idPanelEstado" execute="@form"/>
                                                                                </h:selectOneRadio>

                                                                                <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 4}"  value="#{registroController.expediente.estadoSeguimiento}">
                                                                                    <f:selectItems value="#{registroController.listaEstadoSeguimientoQueja}"  />
                                                                                    <f:ajax listener="#{registroController.pintar()}" render="idPanelEstado" execute="@form"/>
                                                                                </h:selectOneRadio>
                                                                                <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 5}"  value="#{registroController.expediente.estadoCalificacion}">
                                                                                    <f:selectItems value="#{registroController.listaEstadoCalificacionPetitorio}"  />
                                                                                    <f:ajax listener="#{registroController.pintar()}" render="idPanelEstado" execute="@form"/>
                                                                                </h:selectOneRadio>

                                                                                <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 6}"  value="#{registroController.expediente.estadoGestion}">
                                                                                    <f:selectItems value="#{registroController.listaEstadoGestionPetitorio}"  />
                                                                                    <f:ajax listener="#{registroController.pintar()}" render="idPanelEstado" execute="@form"/>
                                                                                </h:selectOneRadio>            

                                                                                <h:selectOneRadio rendered="#{registroController.etapaEstado.verEtapa == 7}"  value="#{registroController.expediente.estadoPersuacion}">
                                                                                    <f:selectItems value="#{registroController.listaEstadoPersuacionPetitorio}"  />
                                                                                    <f:ajax listener="#{registroController.pintar()}" render="idPanelEstado" execute="@form"/>
                                                                                </h:selectOneRadio>            



                                                                            </td>
                                                                            <td style="vertical-align: top">
                                                                                <textarea rows="3" jsf:rendered="#{registroController.expediente.estadoCalificacion != null and registroController.etapaEstado.verEtapa == 1}" style="width: 100%" placeholder="Justificación"/>
                                                                                <textarea rows="3" jsf:rendered="#{registroController.expediente.estadoInvestigacion != null and registroController.etapaEstado.verEtapa == 2}" style="width: 100%" placeholder="Justificación"/>
                                                                                <textarea rows="3" jsf:rendered="#{registroController.expediente.estadoPersuacion != null and registroController.etapaEstado.verEtapa == 3}" style="width: 100%" placeholder="Justificación"/>
                                                                                <textarea rows="3" jsf:rendered="#{registroController.expediente.estadoSeguimiento != null and registroController.etapaEstado.verEtapa == 4}" style="width: 100%" placeholder="Justificación"/>
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </h:panelGroup>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>

                                                            <div  class="alert fade in" role="alert" style="width: 100%;text-align:right;border:solid silver 1px;background:white;color:silver;padding-bottom:5px;padding-top:5px;margin-bottom:3px">
                                                                <input type="hidden" id="idTipoClasificacion" jsf:value="#{registroController.expediente.tipoClasificion}" />

                                                                <span id="idTextTipoClasificacion" class="text-primary" style="float: left; font-weight: bold;">Seleccione</span>
                                                                <a href="#" class="trigger2">
                                                                    <span style="color:#3183b9;font-size:large;vertical-align: top" class="glyphicon glyphicon-chevron-down trigger2"></span>
                                                                </a>
                                                                <div class="popover-markup" style="float:left">
                                                                    <div class="head hide"><b class="text-primary">Seleccione</b></div>
                                                                    <div class="content hide">
                                                                        <div style="width:100%">
                                                                            <c:forEach var="x" items="#{listasComunesController.buscarExpedienteTipoClasificacion(false,false,false)}">
                                                                                <a class="alink" onclick="asignarTipo('${x.valorParametro}')">
                                                                                    <div class="alert fade in alert-warning" role="alert" style="padding-bottom:5px;padding-top:5px;margin-bottom:3px">

                                                                                        <h:outputText value="${x.nombreParametro}" style="cursor:pointer"/>

                                                                                    </div>
                                                                                </a>
                                                                            </c:forEach>


                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <style>.alink:hover{text-decoration:none}.alink:link{text-decoration:none}.alink:active{text-decoration:none}</style>
                                                                <script>$('.trigger2').popover({html: true, placement: 'bottom', tabindex: '0', trigger: 'focus', title: function () {
                                                                            return $(this).parent().find('.head').html();
                                                                        }, content: function () {
                                                                            return $(this).parent().find('.content').html();
                                                                        }});
                                                                    function asignarTipo(tipo) {
                                                                        $("#idTipoClasificacion").val(tipo);
                                                                        $("#idTextTipoClasificacion").css("color", "#3071A9");
                                                                        if (tipo === "01") {
                                                                            $("#idTextTipoClasificacion").text("QUEJA");

                                                                        }
                                                                        if (tipo === "02") {
                                                                            $("#idTextTipoClasificacion").text("CONSULTA");

                                                                        }
                                                                        if (tipo === "03") {
                                                                            $("#idTextTipoClasificacion").text("PETITORIO");

                                                                        }
                                                                        if (tipo === "04") {
                                                                            $("#idTextTipoClasificacion").text("SIN CLASIFICACION");

                                                                        }
                                                                    }
                                                                    if ($("#idTipoRegistro").val() !== "") {
                                                                        if ($("#idTipoClasificacion").val() === "01") {
                                                                            $("#idTextTipoClasificacion").text("QUEJA");

                                                                        }
                                                                        if ($("#idTipoClasificacion").val() === "02") {
                                                                            $("#idTextTipoClasificacion").text("CONSULTA");

                                                                        }
                                                                        if ($("#idTipoClasificacion").val() === "03") {
                                                                            $("#idTextTipoClasificacion").text("PETITORIO");

                                                                        }
                                                                        if ($("#idTipoClasificacion").val() === "04") {
                                                                            $("#idTextTipoClasificacion").text("SIN CLASIFICACION");

                                                                        }
                                                                        $("#idTextTipoClasificacion").css("color", "#3071A9");
                                                                    }
                                                                    $(document).ready(function () {
                                                                        if ($("#idTipoRegistro").val() !== "") {
                                                                            if ($("#idTipoClasificacion").val() === "01") {
                                                                                $("#idTextTipoClasificacion").text("QUEJA");

                                                                            }
                                                                            if ($("#idTipoClasificacion").val() === "02") {
                                                                                $("#idTextTipoClasificacion").text("CONSULTA");

                                                                            }
                                                                            if ($("#idTipoClasificacion").val() === "03") {
                                                                                $("#idTextTipoClasificacion").text("PETITORIO");

                                                                            }
                                                                            if ($("#idTipoClasificacion").val() === "04") {
                                                                                $("#idTextTipoClasificacion").text("SIN CLASIFICACION");

                                                                            }
                                                                            $("#idTextTipoClasificacion").css("color", "#3071A9");
                                                                        }
                                                                    });</script>
                                                            </div>
                                                        </td>
                                                        <td style="text-align: right">
                                                            <script>
                                                                function confirmarBorrador() {
                                                                    if ($("#idTipoClasificacion").val() === "0") {
                                                                        alertar("Debe de ingresar el tipo de expediente!");
                                                                        return false;
                                                                    } else {
                                                                        confirmar();
                                                                    }
                                                                }
                                                            </script>
                                                            
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>

                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
                <ul class="nav nav-tabs">
                    <li role="presentation">
                        <a style="cursor: pointer" jsf:rendered="true" jsf:action="expedienteNuevo">
                            <span style="font-size: medium; color: purple;" class="glyphicon glyphicon-list-alt" > Expediente</span>
                        </a>
                    </li>
                    <li role="presentation"><a style="cursor: pointer" jsf:action="#{registroController.cargarExpedienteGestionLista()}">
                            <span style="font-size: medium; color: purple;" class="glyphicon glyphicon-list-alt" > Gestiones</span>
                        </a>
                    </li>
                    <li role="presentation" class="active"><a style="cursor: pointer">
                            <span style="font-size: large; color: #007ACC;font-weight: bold" class="glyphicon glyphicon-list-alt" > Nueva gestión</span>
                        </a></li>
                </ul>
                
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <table style="width: 100%">
                            <tr>
                                    <td>
                                        <span style="font-size: 2em" class="text-resalt-primary">N° Gestión: #{registroController.expedienteGestion.codigoGestion}</span>
                                </td>
                                <td style="width: 50%; text-align: right">
                                    <a class="btn btn-primary" onclick="confirmar()">
                                        <span class="glyphicon glyphicon-floppy-disk" />Guardar gestión
                                    </a>
                                </td>
                            </tr>
                        </table>
                
                    </div>
                    <div class="panel-body">
                        <table style="width: 100%">
                            <tr>
                                <td style="width: 50%; vertical-align: top; padding-right: 2px">
                                    <div class="panel panel-featured-top-silver">
                                        <div class="panel-body">
                                            <span class="text-resalt-primary">Datos generales</span>
                                            <br/><br/>
                                            <table style="width: 100%">
                                                <tr>
                                                    <td style="width: 60%; padding-right: 5px;padding-bottom: 10px">
                                                        <label>Tipo Acción:</label>
                                                        <h:selectOneMenu value="#{registroController.expedienteGestion.tipo}" >
                                                            <f:selectItem itemValue="0" itemLabel="Selecione" />
                                                            <f:selectItems value="#{listasComunesController.buscarGestionTipoAccion(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                        </h:selectOneMenu>
                                                    </td>
                                                    <td style="padding-left: 5px; padding-bottom: 10px">
                                                        <label>Fecha:</label>
                                                        <gc:calendar value="#{registroController.expedienteGestion.fecha}" />
                                                    </td>
                                                </tr>   
                                                <tr>
                                                    <td colspan="2" style="padding-bottom: 10px">
                                                        <label>Descripción:</label>
                                                        <textarea rows="6" jsf:value="#{registroController.expedienteGestion.descripcion}" style="width: 100%;" placeholder="Descripción"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 50%;padding-bottom: 10px;padding-right: 10px">
                                                        <label>Institución:</label>
                                                        <input type="text" jsf:value="#{registroController.expedienteGestion.institucion}" placeholder="Institución"/>
                                                    </td>
                                                    <td style="vertical-align: bottom;padding-bottom: 10px">
                                                        <h:selectBooleanCheckbox id="idCheckbox" value="#{registroController.expedienteGestion.indEntidadQuejada}" />Entidad quejada
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="2">
                                                        <table style="width: 100%">
                                                            <tr>
                                                                <td style="width: 34%;padding-right: 10px">
                                                                    <label>Nombre:</label>
                                                                    <input type="text" jsf:value="#{registroController.expedienteGestion.nombre}" placeholder="Nombre"/>
                                                                </td>
                                                                <td style="width: 34%;padding-right: 10px">
                                                                    <label>Apellido paterno:</label>
                                                                    <input type="text" jsf:value="#{registroController.expedienteGestion.apellidoPaterno}" placeholder="Apellido paterno"/>
                                                                </td>
                                                                <td>
                                                                    <label>Apellido materno:</label>
                                                                    <input type="text" jsf:value="#{registroController.expedienteGestion.apellidoMaterno}" placeholder="Apellido Materno"/>
                                                                </td>
                                                            </tr>
                                                                <tr>
                                                                    <td colspan="2" style="padding-top: 10px">
                                                                <label>Documento de la gestión:</label>
                                                                    <input type="text" placeholder="Documento de la gestión"/>
                                                                    </td>
                                                                    <td></td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </td>
                                <td style="vertical-align: top;  padding-left: 2px;">
                                    <div class="panel panel-featured-top-silver">
                                        <div class="panel-body">
                                            <span class="text-resalt-primary">Información de respuesta</span>
                                            <br/><br/>
                                            <table style="width: 100%">
                                                <tr>
                                                    <td style="width: 34%; padding-bottom: 10px">
                                                        <label>Hubo respuesta?</label>
                                                        <h:selectOneRadio value="#{registroController.expedienteGestion.respuesta}">
                                                            <f:selectItem itemValue="SI" itemLabel="Si" />
                                                            <f:selectItem itemValue="NO" itemLabel="No" />
                                                        </h:selectOneRadio>
                                                    </td>
                                                    <td style="width: 34%;padding-bottom: 10px">
                                                        <label>Fecha respuesta</label>
                                                        <gc:calendar value="#{registroController.expedienteGestion.fechaRespuesta}" />
                                                    </td>
                                                    <td style="padding-bottom: 10px">
                                                        <span>(*)De darse la respuesta despues de los 30 dias de entregado el documento, se considerará fuera de plazo automaticamente.</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="2" style="padding-bottom: 10px">
                                                        <label>Calidad Respuesta</label>
                                                        <h:selectOneMenu value="#{registroController.expedienteGestion.tipoCalidad}">
                                                            <f:selectItem itemValue="0" itemLabel="Selecione" />
                                                            <f:selectItems value="#{listasComunesController.buscarGestionTipoCalidadRespuesta(false,false,false)}" var="y" itemLabel="#{y.nombreParametro}" itemValue="#{y.valorParametro}" />
                                                        </h:selectOneMenu>
                                                    </td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td colspan="3" style="padding-bottom: 10px">
                                                        <label>Descripción respuesta</label>
                                                        <textarea rows="6" jsf:value="#{registroController.expedienteGestion.detalleRespuesta}" style="width: 100%;" placeholder="Descripción respuesta"/>
                                                    </td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td colspan="3">
                                                        <label>Observaciones</label>
                                                        <textarea rows="6" jsf:value="#{registroController.expedienteGestion.observacionRespuesta}" style="width: 100%;" placeholder="Observaciones"/>
                                                    </td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                                <tr>
                                    <td colspan="2">
                                <div class="panel panel-featured-top-silver">
                                        <div class="panel-body">
                                            <span class="text-resalt-primary">Programación de alertas</span>
                                            <br/><br/>
                                            <table style="width: 100%">
                                        <tr>
                                            <td style="width: 65%; padding-right: 2px">
                                                        <span class="text-primary" style="font-size:1.2em;font-weight:bold">Alertas</span>
                                                        <br/>
                                                        <h:selectBooleanCheckbox id="checkIndAlertar" value="#{registroController.expedienteGestion.indAlertar}" />No alertar
                                                        <div id="idDivAlert">
                                                            <table style="width:100%">
                                                                <tr>
                                                                    <td style="width:10%">
                                                                        <h:outputText value="Inicio" />
                                                                    </td>
                                                                    <td>
                                                                        <table style="width:100%">
                                                                            <tr>
                                                                                <td style="width:8%">
                                                                                    <div id="idDivTxtNumeroInicial">
                                                                                        <input type="text" id="txtNumeroInicial" onkeypress="return soloNumbero(event)" jsf:value="#{registroController.expedienteGestion.numeroInicial}"/>
                                                                                    </div>
                                                                                </td>
                                                                                <td style="width:30%">
                                                                                    <div id="idDivSelTipoTiempoIni">
                                                                                        <h:selectOneMenu id="selTipoTiempoIni" value="#{registroController.expedienteGestion.tipoTiempoIni}">
                                                                                            <f:selectItems value="#{registroController.listaTiempo}" var="y" itemLabel="#{y.label}" itemValue="#{y.value}" />
                                                                                        </h:selectOneMenu>
                                                                                    </div>
                                                                                </td>
                                                                                <td style="width:30%">
                                                                                    <div id="idDivSelIndicadorAntesDespuesIni">
                                                                                        <h:selectOneMenu id="selIndicadorAntesDespuesIni" value="#{registroController.expedienteGestion.indicadorAntesDespuesIni}">
                                                                                            <f:selectItems value="#{registroController.listaAntesDespues}" var="y" itemLabel="#{y.label}" itemValue="#{y.value}" />
                                                                                        </h:selectOneMenu>
                                                                                    </div>
                                                                                </td>
                                                                                <td style="width:32%">
                                                                                    <div class="input-group datepicker" id="idDivTxtInicioSeguimiento">
                                                                                        <div class="input-group-addon add-on">
                                                                                            <span class="glyphicon glyphicon-calendar"></span>
                                                                                        </div>
                                                                                        <input type="text" id="txtInicioSeguimiento" data-format="dd/MM/yyyy" jsf:value="#{registroController.expedienteGestion.inicioSeguimiento}">
                                                                                            <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                                                                        </input>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:5%">
                                                                                    <h:selectBooleanCheckbox id="checkIndicadorSeleccionHoraIni" value="#{registroController.expedienteGestion.indicadorSeleccionHoraIni}"/>
                                                                                </td>
                                                                                <td style="width:25%">
                                                                                    <div class="input-group datepicker" id="idDivTxtInicioDefinitivo">
                                                                                        <div class="input-group-addon add-on">
                                                                                            <span class="glyphicon glyphicon-calendar"></span>
                                                                                        </div>
                                                                                        <input type="text" id="txtInicioDefinitivo" data-format="dd/MM/yyyy" jsf:value="#{registroController.expedienteGestion.inicioDefinitivo}">
                                                                                            <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                                                                        </input>
                                                                                    </div>
                                                                                </td>
                                                                                <td style="width:70%"></td>
                                                                            </tr>
                                                                        </table>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                            <br/>
                                                            <table style="width:100%">
                                                                <tr>
                                                                    <td style="width:10%">
                                                                        <h:outputText value="Finaliza" />
                                                                    </td>
                                                                    <td>
                                                                        <table style="width:100%">
                                                                            <tr>
                                                                                <td style="width:8%">
                                                                                    <div id="idDivTxtNumeroFinal">
                                                                                        <input type="text" id="txtNumeroFinal" onkeypress="return soloNumbero(event)" jsf:value="#{registroController.expedienteGestion.numeroFinal}" />
                                                                                    </div>
                                                                                </td>
                                                                                <td style="width:30%">
                                                                                    <div id="idDivSelTipoTiempoFin">
                                                                                        <h:selectOneMenu id="selTipoTiempoFin" value="#{registroController.expedienteGestion.tipoTiempoFin}">
                                                                                            <f:selectItems value="#{registroController.listaTiempo}" var="y" itemLabel="#{y.label}" itemValue="#{y.value}" />
                                                                                        </h:selectOneMenu>
                                                                                    </div>
                                                                                </td>
                                                                                <td style="width:30%">
                                                                                    <div id="idDivSelIndicadorAntesDespuesFin">
                                                                                        <h:selectOneMenu id="selIndicadorAntesDespuesFin" value="#{registroController.expedienteGestion.indicadorAntesDespuesFin}">
                                                                                            <f:selectItems value="#{registroController.listaAntesDespues}" var="y" itemLabel="#{y.label}" itemValue="#{y.value}" />
                                                                                        </h:selectOneMenu>
                                                                                    </div>
                                                                                </td>
                                                                                <td style="width:32%">
                                                                                    <div class="input-group datepicker" id="idDivTxtFinSeguimiento">
                                                                                        <div class="input-group-addon add-on">
                                                                                            <span class="glyphicon glyphicon-calendar"></span>
                                                                                        </div>
                                                                                        <input type="text" data-format="dd/MM/yyyy" id="txtFinSeguimiento" jsf:value="#{registroController.expedienteGestion.finSeguimiento}">
                                                                                            <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                                                                        </input>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:5%">
                                                                                    <h:selectBooleanCheckbox id="checkIndicadorSeleccionHoraFin" value="#{registroController.expedienteGestion.indicadorSeleccionHoraFin}"/>
                                                                                </td>
                                                                                <td style="width:25%">
                                                                                    <div class="input-group datepicker" id="idDivTxtFinDefinitivo">
                                                                                        <div class="input-group-addon add-on">
                                                                                            <span class="glyphicon glyphicon-calendar"></span>
                                                                                        </div>
                                                                                        <input type="text" id="txtFinDefinitivo" data-format="dd/MM/yyyy" jsf:value="#{registroController.expedienteGestion.finDefinitivo}">
                                                                                            <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Lima" />
                                                                                        </input>
                                                                                    </div>
                                                                                </td>
                                                                                <td style="width:70%"></td>
                                                                            </tr>
                                                                        </table>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                            <br/>
                                                            <table style="width:100%">
                                                                <tr>
                                                                    <td style="width:10%">
                                                                        <h:outputText value="Repetir" />
                                                                    </td>
                                                                    <td style="width:30%">
                                                                        <div id="idDivSelIndiceRepeticion">
                                                                            <h:selectOneMenu id="selIndiceRepeticion" value="#{registroController.expedienteGestion.indiceRepeticion}">
                                                                                <f:selectItems value="#{registroController.listaRepeticion}" var="y" itemLabel="#{y.label}" itemValue="#{y.value}" />
                                                                            </h:selectOneMenu>
                                                                        </div>
                                                                    </td>
                                                                    <td style="width:60%"></td>
                                                                </tr>
                                                            </table>
                                                        </div>
                                            </td>
                                            <td style="vertical-align: top;  padding-left: 2px">
                                        <label>Notas:</label>
                                                        <textarea rows="6" jsf:value="#{registroController.expedienteGestion.nota}" style="width: 100%;" placeholder="Notas"/>
                                            </td>
                                        </tr>
                                        <tr>

                                        </tr>
                                    </table>
                                        </div>
                                </div>
                                    </td>
                                    
                            </tr>
                        </table>
                        
                    </div>
                </div>
            </h:form>
        </ui:define>
    </ui:composition>
</html>            
